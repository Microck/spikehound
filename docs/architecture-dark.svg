<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2066.95 3236.15" width="2066.95" height="3236.15" style="--bg:#0d1117;--fg:#e6edf3;--line:#3d444d;--accent:#4493f8;--muted:#9198a1;background:var(--bg)">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap');
  text { font-family: 'Inter', system-ui, sans-serif; }
  svg {
    /* Derived from --bg and --fg (overridable via --line, --accent, etc.) */
    --_text:          var(--fg);
    --_text-sec:      var(--muted, color-mix(in srgb, var(--fg) 60%, var(--bg)));
    --_text-muted:    var(--muted, color-mix(in srgb, var(--fg) 40%, var(--bg)));
    --_text-faint:    color-mix(in srgb, var(--fg) 25%, var(--bg));
    --_line:          var(--line, color-mix(in srgb, var(--fg) 30%, var(--bg)));
    --_arrow:         var(--accent, color-mix(in srgb, var(--fg) 50%, var(--bg)));
    --_node-fill:     var(--surface, color-mix(in srgb, var(--fg) 3%, var(--bg)));
    --_node-stroke:   var(--border, color-mix(in srgb, var(--fg) 20%, var(--bg)));
    --_group-fill:    var(--bg);
    --_group-hdr:     color-mix(in srgb, var(--fg) 5%, var(--bg));
    --_inner-stroke:  color-mix(in srgb, var(--fg) 12%, var(--bg));
    --_key-badge:     color-mix(in srgb, var(--fg) 10%, var(--bg));
  }
</style>
<defs>
  <marker id="arrowhead" markerWidth="8" markerHeight="4.8" refX="8" refY="2.4" orient="auto">
    <polygon points="0 0, 8 2.4, 0 4.8" fill="var(--_arrow)" />
  </marker>
  <marker id="arrowhead-start" markerWidth="8" markerHeight="4.8" refX="0" refY="2.4" orient="auto-start-reverse">
    <polygon points="8 0, 0 2.4, 8 4.8" fill="var(--_arrow)" />
  </marker>
</defs>
<rect x="40" y="437" width="1321.35" height="876" rx="0" ry="0" fill="var(--_group-fill)" stroke="var(--_node-stroke)" stroke-width="1" />
<rect x="40" y="437" width="1321.35" height="28" rx="0" ry="0" fill="var(--_group-hdr)" stroke="var(--_node-stroke)" stroke-width="1" />
<text x="52" y="451" dy="0.35em" font-size="12" font-weight="600" fill="var(--_text-sec)">&quot;Inline — CoordinatorPipeline&quot;</text>
<rect x="402.5999999999999" y="473" width="938.75" height="112" rx="0" ry="0" fill="var(--_group-fill)" stroke="var(--_node-stroke)" stroke-width="1" />
<rect x="402.5999999999999" y="473" width="938.75" height="28" rx="0" ry="0" fill="var(--_group-hdr)" stroke="var(--_node-stroke)" stroke-width="1" />
<text x="414.5999999999999" y="487" dy="0.35em" font-size="12" font-weight="600" fill="var(--_text-sec)">&quot;Parallel Investigation  Task.WhenAll&quot;</text>
<rect x="1381.35" y="453" width="645.6" height="860" rx="0" ry="0" fill="var(--_group-fill)" stroke="var(--_node-stroke)" stroke-width="1" />
<rect x="1381.35" y="453" width="645.6" height="28" rx="0" ry="0" fill="var(--_group-hdr)" stroke="var(--_node-stroke)" stroke-width="1" />
<text x="1393.35" y="467" dy="0.35em" font-size="12" font-weight="600" fill="var(--_text-sec)">&quot;Durable — CoordinatorOrchestrator&quot;</text>
<polyline points="861.2874999999999,76 861.2874999999999,276" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="861.2874999999999,312 861.2874999999999,332 221.29999999999995,332 221.29999999999995,783 633.1374999999999,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="861.2874999999999,312 861.2874999999999,332 1487.2749999999999,332 1487.2749999999999,529" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="565.7249999999999,565 565.7249999999999,783 633.1374999999999,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="861.25,565 861.25,783 793.8375,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1167.5,565 1167.5,783 793.8375,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="713.4875,801 713.4875,1001" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="713.4875,1037 713.4875,1237" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1487.2749999999999,565 1487.2749999999999,783 1609.5,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1693.425,565 1693.425,765" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1910.3,565 1910.3,783 1777.35,783" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1693.425,801 1693.425,1001" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1693.425,1037 1693.425,1237" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="713.4875,1273 713.4875,1293 157.6500000000001,1293 157.6500000000001,1491 295.1374999999998,1491" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="713.4875,1273 713.4875,1293 1253.6999999999998,1293 1253.6999999999998,1333 1398.35,1333 1398.35,1491 1707.2124999999996,1491" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1693.425,1273 1693.425,1293 1466.675,1293 1466.675,1333 1378.35,1333 1378.35,1491 505.8874999999998,1491" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1693.425,1273 1693.425,1293 1958.625,1293 1958.625,1491 1896.5124999999998,1491" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="400.5124999999998,1509 400.5124999999998,1744 1002.7499999999998,1744" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1801.8624999999997,1509 1801.8624999999997,1744 1256.3999999999999,1744" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1129.5749999999998,1762 1129.5749999999998,1978.9999999999998" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1029.1321753273833,2370.7071753273835 1029.1321753273833,2491.15 946.0625,2491.15 946.0625,2688.15" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="1230.0178246726164,2370.707175327383 1230.0178246726164,2491.15 1313.0874999999999,2491.15 1313.0874999999999,2688.15" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="946.0625,2724.15 946.0625,2924.15" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<polyline points="946.0625,2960.15 946.0625,3160.15" fill="none" stroke="var(--_line)" stroke-width="0.75" marker-end="url(#arrowhead)" />
<rect x="55.99999999999994" y="533.5" width="330.6" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="221.29999999999995" y="547" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;SPIKEHOUND_USE_DURABLE=false&amp;#10;200 OK + full report&quot;</text>
<rect x="1310.5349999999999" y="407" width="353.48" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="1487.2749999999999" y="420.5" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;SPIKEHOUND_USE_DURABLE=true&amp;#10;202 Accepted + instanceId&quot;</text>
<rect x="300.99249999999984" y="1604" width="199.04000000000002" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="400.5124999999998" y="1617.5" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;approve / reject / investigate&quot;</text>
<rect x="1702.3424999999997" y="1604" width="199.04000000000002" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="1801.8624999999997" y="1617.5" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;approve / reject / investigate&quot;</text>
<rect x="1064.3749999999998" y="1857" width="130.4" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="1129.5749999999998" y="1870.5" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;decision = Approve&quot;</text>
<rect x="892.3025" y="2566.15" width="107.52000000000001" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="946.0625" y="2579.65" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;enabled = true&quot;</text>
<rect x="1227.8674999999998" y="2566.15" width="170.44" height="27" rx="4" ry="4" fill="var(--bg)" stroke="var(--_inner-stroke)" stroke-width="0.5" />
<text x="1313.0874999999999" y="2579.65" text-anchor="middle" dy="0.35em" font-size="11" font-weight="400" fill="var(--_text-muted)">&quot;enabled = false (default)&quot;</text>
<rect x="755.9124999999999" y="40" width="210.75000000000003" height="36" rx="18" ry="18" fill="#e6f3ff" stroke="#0066cc" stroke-width="0.75" />
<rect x="673.6874999999999" y="276" width="375.20000000000005" height="36" rx="0" ry="0" fill="#fafafa" stroke="#9e9e9e" stroke-width="0.75" />
<rect x="295.1374999999998" y="1473" width="210.75000000000003" height="36" rx="0" ry="0" fill="#fff8e1" stroke="#f9a825" stroke-width="0.75" />
<rect x="1707.2124999999996" y="1473" width="189.3" height="36" rx="0" ry="0" fill="#fff8e1" stroke="#f9a825" stroke-width="0.75" />
<rect x="1002.7499999999998" y="1726" width="253.65" height="36" rx="0" ry="0" fill="#fff8e1" stroke="#f9a825" stroke-width="0.75" />
<polygon points="1129.5749999999998,1978.9999999999998 1375.6499999999999,2225.075 1129.5749999999998,2471.1499999999996 883.4999999999998,2225.075" fill="#fafafa" stroke="#9e9e9e" stroke-width="0.75" />
<rect x="744.1625" y="2688.15" width="403.8" height="36" rx="0" ry="0" fill="#fafafa" stroke="#9e9e9e" stroke-width="0.75" />
<rect x="1171.9624999999999" y="2688.15" width="282.25" height="36" rx="0" ry="0" fill="#e8f5e9" stroke="#2e7d32" stroke-width="0.75" />
<rect x="844.2625" y="2924.15" width="203.60000000000002" height="36" rx="0" ry="0" fill="#e6f3ff" stroke="#0066cc" stroke-width="0.75" />
<rect x="783.4875" y="3160.15" width="325.15000000000003" height="36" rx="0" ry="0" fill="#e8f5e9" stroke="#2e7d32" stroke-width="0.75" />
<rect x="633.1374999999999" y="765" width="160.70000000000002" height="36" rx="0" ry="0" fill="#fafafa" stroke="#9e9e9e" stroke-width="0.75" />
<rect x="540.1875" y="1001" width="346.6" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="572.3625" y="1237" width="282.25" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="424.5999999999999" y="529" width="282.25" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="730.85" y="529" width="260.8" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1015.65" y="529" width="303.70000000000005" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1403.35" y="529" width="167.85000000000002" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1595.2" y="529" width="196.45000000000002" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1815.6499999999999" y="529" width="189.3" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1609.5" y="765" width="167.85000000000002" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1602.35" y="1001" width="182.15" height="36" rx="0" ry="0" fill="#f0f7ee" stroke="#3a7d44" stroke-width="0.75" />
<rect x="1598.7749999999999" y="1237" width="189.3" height="36" rx="0" ry="0" fill="#fafafa" stroke="#9e9e9e" stroke-width="0.75" />
<text x="861.2874999999999" y="58" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#003d7a">Azure Monitor\nCost Alert</text>
<text x="861.2874999999999" y="294" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#212121">&quot;POST /api/webhooks/alert\nAlertWebhookFunction&quot;</text>
<text x="400.5124999999998" y="1491" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#5d4037">&quot;Slack\nIncoming Webhook&quot;</text>
<text x="1801.8624999999997" y="1491" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#5d4037">&quot;Discord\nBot Message&quot;</text>
<text x="1129.5749999999998" y="1744" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#5d4037">&quot;ApprovalRecord\nInMemoryState&quot;</text>
<text x="1129.5749999999998" y="2225.075" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#212121">&quot;Remediation Gate\nSPIKEHOUND_ENABLE_\nREMEDIATION_EXECUTION&quot;</text>
<text x="946.0625" y="2706.15" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#212121">&quot;RemediationExecutionOrchestrator\nDurable Function&quot;</text>
<text x="1313.0874999999999" y="2706.15" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b5e20">&quot;Execution Skipped\nsafety default&quot;</text>
<text x="946.0625" y="2942.15" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#003d7a">&quot;Azure Compute\nstop_vm&quot;</text>
<text x="946.0625" y="3178.15" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b5e20">&quot;Follow-up Notification\nSlack + Discord&quot;</text>
<text x="713.4875" y="783" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#212121">&quot;Unified Findings&quot;</text>
<text x="713.4875" y="1019" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;Diagnosis Agent\nAzure AI Foundry / GPT-4o&quot;</text>
<text x="713.4875" y="1255" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;Remediation Agent\nAction Planner&quot;</text>
<text x="565.7249999999999" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;Cost Analyst\nCost Management API&quot;</text>
<text x="861.25" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;Resource Agent\nResource Graph&quot;</text>
<text x="1167.5" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;History Agent\nAI Search / Cosmos DB&quot;</text>
<text x="1487.2749999999999" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;CostAgentActivity&quot;</text>
<text x="1693.425" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;ResourceAgentActivity&quot;</text>
<text x="1910.3" y="547" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;HistoryAgentActivity&quot;</text>
<text x="1693.425" y="783" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;DiagnosisActivity&quot;</text>
<text x="1693.425" y="1019" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#1b4332">&quot;RemediationActivity&quot;</text>
<text x="1693.425" y="1255" text-anchor="middle" dy="0.35em" font-size="13" font-weight="500" fill="#212121">&quot;NotificationActivity&quot;</text>
</svg>